{% extends 'base.html.twig' %}

{% block title %} Register {% endblock %}

{% block stylesheets %}

    <link href="{{ asset('asset/vendor/font-awesome-4.7/css/font-awesome.min.css') }}" rel="stylesheet" media="all">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('asset/css/main.css') }}">

{% endblock %}

{% block body %}

    <div class="page-wrapper bg-blue p-t-100 p-b-100 font-robo">
        <div class="wrapper wrapper--w680">
            <div class="card card-1">
                <div class="card-heading"></div>
                <div class="card-body">
                    <h2 class="title"> Register </h2>
                    <form method="POST">
                        <div class="input-group">
                            <input class="input--style-1" type="text" placeholder="First Name" id="_fname">
                        </div>
                        <div class="input-group">
                            <input class="input--style-1" type="text" placeholder="Last Name" id="_lname">
                        </div>
                        <div class="input-group">
                            <input class="input--style-1" type="email" placeholder="Email" id="_email">
                        </div>
                        <div class="input-group">
                            <input class="input--style-1" type="password" placeholder="Password" id="_password">
                        </div>
                        <input type="file" name="profilePicture" accept="image/*" id="_profilePicture">
                    </form>
                    <div class="p-t-20">
                        <button class="btn btn--radius btn--green" id="submit">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
           console.log('Jquery working');

           $("#submit").on("click", function () {
               var fname = $("#_fname").val();
               var lname = $("#_lname").val();
               var email = $("#_email").val();
               var pword = $("#_password").val();
               var picture = $("#_profilePicture").val();

               console.log(picture);

               $.ajax({
                   method: 'POST',
                   url: "{{ path('register') }}",
                   data: {
                       firstName : fname,
                       lastName  : lname,
                       email     : email,
                       password  : pword,
                       profilePicture : picture
                   },
                   success: function (response) {
                       // alert(response);
                       console.log(response);
                   }
               });

           });

        });
    </script>

{% endblock %}
